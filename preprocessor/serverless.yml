service: preprocessor

plugins:
  - serverless-localstack

provider:
  name: aws
  region: eu-west-1
  runtime: go1.x
  lambdaHashingVersion: 20201221

package:
  exclude:
    - ./**
  include:
    - ./bin/**

custom:
  localstack:
    host: http://localhost
    endpointFile: endpoints.json
    autostart: true
    lambda:
      mountCode: True
    docker:
      sudo: False

functions:
  preprocessor:
    handler: bin/preprocessor
    events:
      - http:
          path: hello
          method: get
